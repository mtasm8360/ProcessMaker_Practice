{"name":"01_ثبت نام","description":"","items":[{"type":"form","variable":"","var_uid":"","dataType":"","id":"79361043466715fdc3cbd64034547047","name":"01_ثبت نام","description":"","mode":"edit","script":{"type":"js","code":""},"language":"en","externalLibs":"","printable":false,"items":[[{"type":"form","variable":"","var_uid":"","dataType":"","id":"7952207176672da789d4ac7086969992","name":"05_user_signup","description":"","mode":"edit","script":{"type":"js","code":""},"language":"en","externalLibs":"","printable":false,"items":[[{"colSpan":6},{"colSpan":2},{"type":"radio","variable":"rad_user_status","var_uid":"22604751966715fe3527864029814966","dataType":"string","protectedValue":false,"id":"rad_user_status","name":"rad_user_status","label":"","tabIndex":"","defaultValue":"","hint":"","ariaLabel":"","ariaLabelVisible":true,"required":true,"requiredFieldErrorMessage":"","mode":"parent","datasource":"database","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"dataVariable":"","options":[{"value":"1","label":"حقیقی"},{"value":"2","label":"حقوقی"}],"var_name":"rad_user_status","colSpan":2},{"colSpan":1},{"type":"subtitle","id":"subtitle0000000001","label":" : وضعیت متقاضی","ariaLabel":"","colSpan":1}],[{"type":"subtitle","id":"subtitle0000000002","label":"مشخصات متقاضی","ariaLabel":"","colSpan":12}],[{"type":"text","variable":"txt_use_name","var_uid":"33879644066715fe35b0a39076808374","dataType":"string","protectedValue":false,"id":"txt_use_name","name":"txt_use_name","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_use_name","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000002","label":": نام و نام خانوادگی","ariaLabel":"","colSpan":1},{"type":"text","variable":"txt_national_code","var_uid":"96981784166715fe36249b2008041201","dataType":"string","protectedValue":false,"id":"txt_national_code","name":"txt_national_code","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_national_code","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000001","label":": کد ملی","ariaLabel":"","colSpan":1}],[{"type":"datetime","variable":"dat_birth_day","var_uid":"80556401466715fe36968b7008760528","dataType":"datetime","protectedValue":false,"id":"dat_birth_day","name":"dat_birth_day","label":"","tabIndex":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","mode":"parent","format":"YYYY-MM-DD","dayViewHeaderFormat":"MMMM YYYY","extraFormats":false,"stepping":1,"minDate":"","maxDate":"","useCurrent":"false","collapse":true,"locale":"","defaultDate":"","disabledDates":false,"enabledDates":false,"icons":{"time":"glyphicon glyphicon-time","date":"glyphicon glyphicon-calendar","up":"glyphicon glyphicon-chevron-up","down":"glyphicon glyphicon-chevron-down","previous":"glyphicon glyphicon-chevron-left","next":"glyphicon glyphicon-chevron-right","today":"glyphicon glyphicon-screenshot","clear":"glyphicon glyphicon-trash"},"useStrict":false,"sideBySide":false,"daysOfWeekDisabled":false,"calendarWeeks":false,"viewMode":"days","toolbarPlacement":"default","showTodayButton":false,"showClear":"false","widgetPositioning":{"horizontal":"auto","vertical":"auto"},"widgetParent":null,"keepOpen":false,"var_name":"dat_birth_day","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000004","label":": تاریخ تولد","ariaLabel":"","colSpan":1},{"type":"text","variable":"txt_father_name","var_uid":"39826798466715fe370c202068764617","dataType":"string","protectedValue":false,"id":"txt_father_name","name":"txt_father_name","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_father_name","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000003","label":": نام پدر","ariaLabel":"","colSpan":1}],[{"type":"text","variable":"txt_birth_place","var_uid":"45615005266715fe3780d61049209054","dataType":"string","protectedValue":false,"id":"txt_birth_place","name":"txt_birth_place","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_birth_place","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000006","label":": محل تولد","ariaLabel":"","colSpan":1},{"type":"text","variable":"txt_s_code","var_uid":"91282680166715fe37f2c22025542347","dataType":"string","protectedValue":false,"id":"txt_s_code","name":"txt_s_code","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_s_code","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000005","label":": شماره شناسنامه","ariaLabel":"","colSpan":1}],[{"type":"text","variable":"txt_m_phone","var_uid":"68095772066715fe3862f82013451112","dataType":"string","protectedValue":false,"id":"txt_m_phone","name":"txt_m_phone","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_m_phone","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000008","label":": شماره موبایل ","ariaLabel":"","colSpan":1},{"type":"text","variable":"txt_s_phone","var_uid":"92113461866715fe38d3719047137303","dataType":"string","protectedValue":false,"id":"txt_s_phone","name":"txt_s_phone","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_s_phone","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000007","label":": شماره ثابت ","ariaLabel":"","colSpan":1}],[{"colSpan":8},{"type":"radio","variable":"rad_gender","var_uid":"70250333866715fe393dbd0057778448","dataType":"string","protectedValue":false,"id":"rad_gender","name":"rad_gender","label":"","tabIndex":"","defaultValue":"","hint":"","ariaLabel":"","ariaLabelVisible":true,"required":true,"requiredFieldErrorMessage":"","mode":"parent","datasource":"database","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"dataVariable":"","options":[{"value":"male","label":"مرد"},{"value":"female","label":"زن"}],"var_name":"rad_gender","colSpan":2},{"colSpan":1},{"type":"label","id":"label0000000009","label":": جنسیت","ariaLabel":"","colSpan":1}],[{"type":"subtitle","id":"subtitle0000000003","label":"مشخصات نماینده","ariaLabel":"","colSpan":12}],[{"type":"text","variable":"txt_agent_name","var_uid":"18544058866715fe39a61d9013759948","dataType":"string","protectedValue":false,"id":"txt_agent_name","name":"txt_agent_name","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_agent_name","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000019","label":"نام و نام خانوادگی","ariaLabel":"","colSpan":1},{"type":"text","variable":"txt_agent_national_code","var_uid":"42539453866715fe3a0f244098279358","dataType":"string","protectedValue":false,"id":"txt_agent_national_code","name":"txt_agent_national_code","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_agent_national_code","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000020","label":"کدد ملی","ariaLabel":"","colSpan":1}],[{"type":"text","variable":"txt_agent_mphone","var_uid":"87952586666715fe3a786b6012174705","dataType":"string","protectedValue":false,"id":"txt_agent_mphone","name":"txt_agent_mphone","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_agent_mphone","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000010","label":": شماره همراه","ariaLabel":"","colSpan":1},{"type":"text","variable":"txt_agent_sphone","var_uid":"40537081166715fe3ae4df8037451517","dataType":"string","protectedValue":false,"id":"txt_agent_sphone","name":"txt_agent_sphone","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_agent_sphone","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000011","label":": شماره ثابت ","ariaLabel":"","colSpan":1}],[{"type":"subtitle","id":"subtitle0000000004","label":"اطلاعات ملک","ariaLabel":"","colSpan":12}],[{"colSpan":6},{"type":"text","variable":"txt_home_mphone","var_uid":"56085653066715fe3b4e914076652664","dataType":"string","protectedValue":false,"id":"txt_home_mphone","name":"txt_home_mphone","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_home_mphone","colSpan":2},{"type":"label","id":"label0000000013","label":": شماره موبایل","ariaLabel":"","colSpan":1},{"type":"text","variable":"txt_home_sphone","var_uid":"68407249566715fe3bbfe70033173608","dataType":"string","protectedValue":false,"id":"txt_home_sphone","name":"txt_home_sphone","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_home_sphone","colSpan":2},{"type":"label","id":"label0000000012","label":": شماره ثابت ","ariaLabel":"","colSpan":1}],[{"type":"text","variable":"txt_home_adrs","var_uid":"88395050266715fe3c3d821009500153","dataType":"string","protectedValue":false,"id":"txt_home_adrs","name":"txt_home_adrs","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_home_adrs","colSpan":4},{"colSpan":1},{"type":"label","id":"label0000000016","label":":ادرس ","ariaLabel":"","colSpan":1},{"type":"dropdown","variable":"drp_cities","var_uid":"37682201366715fe3cb3759011540209","dataType":"string","protectedValue":false,"id":"drp_cities","name":"drp_cities","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","mode":"parent","datasource":"database","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"SELECT ID , CITYNAME FROM PMT_CITY","memoryCache":false,"dataVariable":"","options":[],"var_name":"drp_cities","colSpan":2},{"type":"label","id":"label0000000015","label":": شهرستان","ariaLabel":"","colSpan":1},{"type":"text","variable":"txt_home_post_code","var_uid":"27372421666715fe3d245f0042212548","dataType":"string","protectedValue":false,"id":"txt_home_post_code","name":"txt_home_post_code","label":"","tabIndex":"","defaultValue":"","placeholder":"","hint":"","ariaLabel":"","required":true,"requiredFieldErrorMessage":"","textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","memoryCache":false,"var_name":"txt_home_post_code","colSpan":2},{"type":"label","id":"label0000000014","label":": کد پستی","ariaLabel":"","colSpan":1}],[{"type":"subtitle","id":"subtitle0000000005","label":"مدارک را از این قسمت وارد کنید ","ariaLabel":"","colSpan":12}],[{"colSpan":6},{"colSpan":2},{"type":"label","id":"label0000000018","label":"مدرک 2","ariaLabel":"","colSpan":1},{"colSpan":2},{"type":"label","id":"label0000000017","label":"مدرک 1","ariaLabel":"","colSpan":1}],[{"colSpan":6},{"type":"multipleFile","variable":"mfi_file","var_uid":"53822567266715fe3d9b380043433340","dataType":"multiplefile","protectedValue":false,"id":"mfi_file","name":"mfi_file","label":"","tabIndex":"","ariaLabel":"","inputDocument":"01_مدرک مسکن","required":false,"requiredFieldErrorMessage":"","dnd":false,"extensions":".*","size":0,"sizeUnity":"KB","enableVersioning":false,"mode":"parent","multiple":false,"inp_doc_uid":"310686040664e38e331d646087025036","var_name":"mfi_file","colSpan":3},{"type":"multipleFile","variable":"mfi_file2","var_uid":"18941094966715fe3e30456008511677","dataType":"multiplefile","protectedValue":false,"id":"mfi_file2","name":"mfi_file2","label":"","tabIndex":"","ariaLabel":"","inputDocument":"02_درک مسکن","required":false,"requiredFieldErrorMessage":"","dnd":false,"extensions":".*","size":0,"sizeUnity":"KB","enableVersioning":false,"mode":"parent","multiple":false,"inp_doc_uid":"33473227666508e78898c48075574827","var_name":"mfi_file2","colSpan":3}],[{"type":"submit","id":"submit0000000001","name":"submit0000000001","label":"ثبت","tabIndex":"","ariaLabel":"","colSpan":12}],[{"type":"panel","id":"panel0000000004","content":"<style>\n#subtitle0000000002 {\n     background-color: #A5D6A7;\n     color: white;\n}\n\n#subtitle0000000003 {\n     background-color: #A5D6A7;\n     color: white;\n}\n\n#909005111664640be03b7f9037062789 {\n     direction: rtl;\n}\n\n#subtitle0000000005 {\n     background-color: #1A237E;\n     color: white;\n     display: flex;\n     justify-content: center;\n}\n\n#subtitle0000000004 {\n     background-color: #A5D6A7;\n     color: white;\n}\n</style>","border":"0px","colSpan":12}]],"variables":[{"var_uid":"22604751966715fe3527864029814966","prj_uid":"51151722066715f4455f309011505833","var_name":"rad_user_status","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[{"value":"1","label":"حقیقی"},{"value":"2","label":"حقوقی"}],"inp_doc_uid":"","var_uid_old":"22604751966715fe3527864029814966","var_name_old":"rad_user_status","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"33879644066715fe35b0a39076808374","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_use_name","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"33879644066715fe35b0a39076808374","var_name_old":"txt_use_name","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"96981784166715fe36249b2008041201","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_national_code","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"96981784166715fe36249b2008041201","var_name_old":"txt_national_code","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"80556401466715fe36968b7008760528","prj_uid":"51151722066715f4455f309011505833","var_name":"dat_birth_day","var_field_type":"datetime","var_field_size":10,"var_label":"datetime","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"80556401466715fe36968b7008760528","var_name_old":"dat_birth_day","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"39826798466715fe370c202068764617","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_father_name","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"39826798466715fe370c202068764617","var_name_old":"txt_father_name","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"45615005266715fe3780d61049209054","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_birth_place","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"45615005266715fe3780d61049209054","var_name_old":"txt_birth_place","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"91282680166715fe37f2c22025542347","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_s_code","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"91282680166715fe37f2c22025542347","var_name_old":"txt_s_code","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"68095772066715fe3862f82013451112","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_m_phone","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"68095772066715fe3862f82013451112","var_name_old":"txt_m_phone","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"92113461866715fe38d3719047137303","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_s_phone","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"92113461866715fe38d3719047137303","var_name_old":"txt_s_phone","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"70250333866715fe393dbd0057778448","prj_uid":"51151722066715f4455f309011505833","var_name":"rad_gender","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[{"value":"male","label":"مرد"},{"value":"female","label":"زن"}],"inp_doc_uid":"","var_uid_old":"70250333866715fe393dbd0057778448","var_name_old":"rad_gender","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"18544058866715fe39a61d9013759948","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_agent_name","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"18544058866715fe39a61d9013759948","var_name_old":"txt_agent_name","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"42539453866715fe3a0f244098279358","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_agent_national_code","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"42539453866715fe3a0f244098279358","var_name_old":"txt_agent_national_code","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"87952586666715fe3a786b6012174705","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_agent_mphone","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"87952586666715fe3a786b6012174705","var_name_old":"txt_agent_mphone","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"40537081166715fe3ae4df8037451517","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_agent_sphone","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"40537081166715fe3ae4df8037451517","var_name_old":"txt_agent_sphone","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"56085653066715fe3b4e914076652664","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_home_mphone","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"56085653066715fe3b4e914076652664","var_name_old":"txt_home_mphone","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"68407249566715fe3bbfe70033173608","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_home_sphone","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"68407249566715fe3bbfe70033173608","var_name_old":"txt_home_sphone","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"88395050266715fe3c3d821009500153","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_home_adrs","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"88395050266715fe3c3d821009500153","var_name_old":"txt_home_adrs","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"37682201366715fe3cb3759011540209","prj_uid":"51151722066715f4455f309011505833","var_name":"drp_cities","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"SELECT ID AS Key, CITYNAME AS Label FROM CITY;","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"37682201366715fe3cb3759011540209","var_name_old":"drp_cities","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"27372421666715fe3d245f0042212548","prj_uid":"51151722066715f4455f309011505833","var_name":"txt_home_post_code","var_field_type":"string","var_field_size":10,"var_label":"string","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"27372421666715fe3d245f0042212548","var_name_old":"txt_home_post_code","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"53822567266715fe3d9b380043433340","prj_uid":"51151722066715f4455f309011505833","var_name":"mfi_file","var_field_type":"multiplefile","var_field_size":10,"var_label":"multiplefile","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"53822567266715fe3d9b380043433340","var_name_old":"mfi_file","prj_uid_old":"51151722066715f4455f309011505833","create":false},{"var_uid":"18941094966715fe3e30456008511677","prj_uid":"51151722066715f4455f309011505833","var_name":"mfi_file2","var_field_type":"multiplefile","var_field_size":10,"var_label":"multiplefile","var_dbconnection":"workflow","var_dbconnection_label":"PM Database","var_sql":"","var_null":0,"var_default":"","var_accepted_values":[],"inp_doc_uid":"","var_uid_old":"18941094966715fe3e30456008511677","var_name_old":"mfi_file2","prj_uid_old":"51151722066715f4455f309011505833","create":false}],"colSpan":12}],[{"type":"form","variable":"","var_uid":"","dataType":"","id":"2602945666672dbcbdd1067051232118","name":"06_js_subform","description":"","mode":"edit","script":{"type":"js","code":"\n$(\"#button0000000001\").on(\"click\", async function (event) {\n     // Form validation\n     if (!isValidFieldsLength()) {\n          alert('لطفا همه فیلد هارا با دقت پر کنین ')\n          return;\n     }\n     var isValid = await isValidNationalCode()\n     if (!isValid) {\n          alert('این کد ملی قبلا ثبت شده');\n          return;\n     }\n     // submitting the form\n     $('#79361043466715fdc3cbd64034547047').submitForm();\n});\n\n\n$(\"#button00000000067\").on(\"click\", function (event) {\n     // submitting the form\n     $('#58499301566716052cf0900072497496').submitForm();\n});\n\n\n// AJAX code for checking the national code is allowed or not\nasync function isValidNationalCode() {\n     // var host = PMDynaform.getHostName();\n     // var ws = PMDynaform.getWorkspaceName();\n     // var app_uid = PMDynaform.getProjectKeys().caseUID;\n     // var trigger_uid = \"4282073506672cb9d94fb47015700393\";\n     // var token = PMDynaform.getAccessToken();\n     // var url = host + \"/api/1.0/\" + ws + \"/cases/\" + app_uid + \"/execute-trigger/\" + trigger_uid + '?AJAX=1';\n     var code = $('#txt_national_code').getValue();\n     var url = window.location;\n     var isValid = false;\n     await $.ajax({\n          url: url,\n          type: 'POST',\n          dataType: \"json\",\n          data: {\n               act: \"CHECK_NATIONAL_CODE\",\n               code: code,\n          },\n          success: function (result) {\n               console.log(result)\n               if (result == 'user exists!') {\n                    isValid = false\n               } else {\n                    isValid = true\n               }\n          },\n          error: function (err) {\n               console.log(\"oh an Error  :\", err)\n          }\n     })\n     console.log(\"checkUP\", isValid)\n     return isValid\n     // console.log(window.location);\n     // console.log(token)\n}\n\n\n// function to validate the lingth of national code and phone numbers\nfunction isValidFieldsLength() {\n     var isValid = true;\n     if ($('#txt_national_code').getValue().length != 10) {\n          isValid = false;\n          $('#txt_national_code').css(\"border\", \"2px solid red\");\n     } else {\n          $('#txt_national_code').css(\"border\", \"0px solid red\");\n     }\n     if ($('#txt_s_phone').getValue().length != 8) {\n          isValid = false;\n          $('#txt_s_phone').css(\"border\", \"2px solid red\");\n     } else {\n          $('#txt_s_phone').css(\"border\", \"0px solid red\");\n     }\n\n     if ($('#txt_m_phone').getValue().length != 11) {\n          isValid = false;\n          $('#txt_m_phone').css(\"border\", \"2px solid red\");\n     } else {\n          $('#txt_m_phone').css(\"border\", \"0px solid red\");\n     }\n\n     if ($('#txt_agent_national_code').getValue().length != 10) {\n          isValid = false;\n          $('#txt_agent_national_code').css(\"border\", \"2px solid red\");\n     } else {\n          $('#txt_agent_national_code').css(\"border\", \"0px solid red\");\n     }\n\n     if ($('#txt_agent_sphone').getValue().length != 8) {\n          isValid = false;\n          $('#txt_agent_sphone').css(\"border\", \"2px solid red\");\n     } else {\n          $('#txt_agent_sphone').css(\"border\", \"0px solid red\");\n     }\n\n     if ($('#txt_agent_mphone').getValue().length != 11) {\n          isValid = false;\n          $('#txt_agent_mphone').css(\"border\", \"2px solid red\");\n     } else {\n          $('#txt_agent_mphone').css(\"border\", \"0px solid red\");\n     }\n\n     if ($('#txt_home_sphone').getValue().length != 8) {\n          isValid = false;\n          $('#txt_home_sphone').css(\"border\", \"2px solid red\");\n     } else {\n          $('#txt_home_sphone').css(\"border\", \"0px solid red\");\n     }\n\n     if ($('#txt_home_mphone').getValue().length != 11) {\n          isValid = false;\n          $('#txt_home_mphone').css(\"border\", \"2px solid red\");\n     } else {\n          $('#txt_home_mphone').css(\"border\", \"0px solid red\");\n     }\n\n     return isValid;\n}\n\n// on blur of national code checks if the national code is valid (not registered before)\n$('#txt_national_code').getControl().blur(async function () {\n     var code = $('#txt_national_code').getValue();\n     if (code.length == 10) {\n          var isValid = await isValidNationalCode()\n          console.log(\"isValidNationalCode\", isValid)\n          if (!isValid) {\n               alert('این کد ملی قبلا ثبت شده');\n          }\n     }\n})\n\n// click events will toggle (show and hide) while clicking in section title\nvar firstPart = [\n     'label0000000001',\n     'txt_national_code',\n     'label0000000002',\n     'label0000000003',\n     'label0000000004',\n     'label0000000005',\n     'label0000000006',\n     'label0000000007',\n     'label0000000008',\n     'label0000000009',\n     'txt_use_name',\n     'txt_father_name',\n     'txt_s_code',\n     'txt_s_phone',\n     'rad_gender',\n     'dat_birth_day',\n     'txt_birth_place',\n     'txt_m_phone'\n]\nvar secendPart = [\n     'txt_agent_mphone',\n     'txt_agent_national_code',\n     'txt_agent_name',\n     'txt_agent_sphone',\n     'label0000000011',\n     'label0000000020',\n     'label0000000010',\n     'label0000000019'\n]\nvar thirdPart = [\n     'label0000000018',\n     'label0000000017',\n     'mfi_file2',\n     'mfi_file'\n]\nvar finalPart = [\n     'label0000000012',\n     'label0000000014',\n     'txt_home_sphone',\n     'txt_home_post_code',\n     'label0000000013',\n     'label0000000015',\n     'txt_home_mphone',\n     'drp_cities',\n     'label0000000016',\n     'txt_home_adrs'\n]\n$('#subtitle0000000002').on('click', function () {\n     for (var i = 0; i < firstPart.length; i++) {\n          $('#' + firstPart[i]).toggle();\n     }\n});\n$('#subtitle0000000003').on('click', function () {\n     for (var i = 0; i < secendPart.length; i++) {\n          $('#' + secendPart[i]).toggle();\n     }\n})\n$('#subtitle0000000005').on('click', function () {\n     for (var i = 0; i < thirdPart.length; i++) {\n          $('#' + thirdPart[i]).toggle();\n     }\n})\n$('#subtitle0000000004').on('click', function () {\n     for (var i = 0; i < finalPart.length; i++) {\n          $('#' + finalPart[i]).toggle();\n     }\n})\n"},"language":"en","externalLibs":"","printable":false,"items":[],"variables":[],"colSpan":12}],[{"type":"button","id":"button0000000001","name":"button0000000001","label":"ثبت نام","tabIndex":"","ariaLabel":"","colSpan":12}],[{"type":"submit","id":"submit0000000002","name":"submit0000000002","label":"submit_1","tabIndex":"","ariaLabel":"","colSpan":12}]],"variables":[]}]}